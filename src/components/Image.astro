---
// Import the global.css file here so that it is included on
// all pages through the use of the <BaseHead /> component.
import '../styles/global.css';
import { Image } from 'astro:assets';
import type { ImageMetadata } from 'astro';
import Card from './Card.astro'

interface Props {
	src: string;
	label: string;
}

const { src, label } = Astro.props;

const images = import.meta.glob<{ default: ImageMetadata }>('/src/assets/*.{jpeg,jpg,png,gif}');
if (!images[src]) throw new Error(`"${src}" does not exist in glob: "src/assets/*.{jpeg,jpg,png,gif,svg}"`);
---
<style>
.align-center {
	display: flex;
	justify-content: center;
}
</style>

<div class="Image">
	<div class="align-center">
	<Image src={images[src]()} alt={label} width={640} layout='constrained' fit="scale-down" class='image'/>
	</div>
	<div class="align-center">
	<strong>
	<Card body={label} />
	</strong>
	</div>
</div>
